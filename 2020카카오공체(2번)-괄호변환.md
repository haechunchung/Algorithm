# 2020카카오공체(2번)-괄호변환

****

## 문제

![2020카카오공체(2번)-괄호변환](/image_file/2020카카오공체(2번)-괄호변환.png)

****

## 코드(Python)
```Python
def solution(p):
    answer = ''

    if len(p) == 0:
        # p가 비어있으면 answer을 리턴.
        return answer

    check = 0
    # 균형잡힌 괄호 문자열이 되는지 체크.
    for i in range(len(p)):
        # 처음부터 검사하면서 균형잡힌 괄호 문자열이 되면 종료.

        if p[i] == '(':
            if check == 0:
                # check가 0인 맨 처음에 '('가 나오면 무조건 올바른 괄호 문자열이다.
                correct = 1
            check += 1
            # '('이 나오면 check를 1 증가시킨다.

        else:
            if check == 0:
                # check가 0인 맨 처음에 ')'가 나오면 무조건 올바른 괄호 문자열이 아니다.
                correct = 0
            check -= 1
            # ')'이 나오면 check를 1 감소시킨다.

        if check == 0:
            # check가 0이 되면 균형잡힌 괄호 문자열이다.
            break

    u = p[:i+1]
    # 검사한 균형잡힌 괄호 문자열을 u에 넣는다.
    v = p[i+1:]
    # u를 제외한 그 뒤의 문자열로 p를 바꾼다.

    if correct == 1:
        # u가 올바른 괄호 문자열인 경우.
        answer += u
        # answer에 u를 추가하고,
        answer += solution(v)
        # answer의 뒤에 v를 수행한 결과를 붙인다.
    else:
        # u가 올바른 괄호 문자열이 아니면,
        answer += '('
        # answer에 '('를 추가하고,

        answer += solution(v)
        # answer의 뒤에 v를 수행한 결과를 붙인다.

        answer += ')'
        # answer의 마지막에 ')'를 추가한다.

        for i in range(1, len(u) - 1):
            # u의 첫번째와 마지막을 제외한 모든 문자열을 뒤바꿔서 answer에 추가시킨다.
            if u[i] == '(':
                answer += ')'
            else:
                answer += '('

    return answer
```

****

## 괄호 변환 과정
P = ) ) ) ( ( ( ( ) ) ) ( ) ( ( ( )
<br>
<br> 1. P
<br> U1 = ) ) ) ( ( ( => ( ( ) ) 
<br> => 올바른 괄호 문자열이 아니므로, 양 끝의 괄호를 없애고 나머지 괄호를 반대로 바꿔서 ( + V1 + )의 뒤에 붙인다.
<br> V1 = ( ) ) ) ( ) ( (
<br> Answer = ( + V1 + ) + ( ( ) )
<br>
<br> 2. V1
<br> U2 = ( )
<br> => 올바른 괄호 문자열이므로, 그대로 앞에 배치한 후 V2의 결과를 뒤에 붙인다.
<br> V2 = ) ) ( ) ( ( ( )
<br> V1 = () + V2
<br>
<br> 3. V2
<br> U3 = ) ) ( ) ( ( => ( ) ( )
<br> => 올바른 괄호 문자열이 아니므로, 양 끝의 괄호를 없애고 나머지 괄호를 반대로 바꿔서 ( + V3 + )의 뒤에 붙인다.
<br> V3 = ( )
<br> V2 = ( + V3 + ) + ( ) ( )
<br>
<br> 4. V3
<br> U4 = ( )
<br> => 올바른 괄호 문자열이므로, 그대로 앞에 배치한 후 V4의 결과를 뒤에 붙인다.
<br> V4 = 
<br> V3 = ( ) + V4
<br> 
<br> 5. V4
<br> => 입력이 빈 문자열이므로, 빈 문자열을 반환한다.
<br> 
<br> 재귀함수이므로 번호를 차례로 다시 돌아간다.
<br> 1. 
<br> 5번에서 4번으로 돌아가서, V3의 V4를 채워 완성시킨다.
<br> V3 = ( ) + V4 = ( )
<br>
<br> 2.
<br> 4번에서 3번으로 돌아가서, V2의 V3를 채워 완성시킨다.
<br> V2 = ( + V3 + ) + ( ) ( ) => ( ( ) ) ( ) ( )
<br>
<br> 3.
<br> 3번에서 2번으로 돌아가서, V1의 V2를 채워 완성시킨다.
<br> V1 = () + V2 => ( ) ( ( ) ) ( ) ( )
<br>
<br> 4.
<br> 2번에서 1번으로 돌아가서, Answer의 V1을 채워 완성시킨다.
<br> Answer = ( + V1 + ) + ( ( ) ) => ( ( ) ( ( ) ) ( ) ( ) ) ( ( ) )
<br>
<br> 정답 = ( ( ) ( ( ) ) ( ) ( ) ) ( ( ) )
